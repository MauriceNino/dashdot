"use strict";(globalThis.webpackChunk_dashdot_docs=globalThis.webpackChunk_dashdot_docs||[]).push([[626],{1281(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.getGlobalFormData=r.getInternalStateFromFormData=r.getInternalState=r.getDetailedFormData=r.getGlobalState=void 0;const n=t(3540);r.getGlobalState=e=>{const r=[];for(const t in e)r.push(e[t]);return{valid:r.every((({valid:e})=>e)),dirty:r.some((({dirty:e})=>e)),touched:r.some((({touched:e})=>e))}};r.getDetailedFormData=(e,r,t,s)=>{const a={};for(const l in t){const{value:i,dirty:o,touched:d}=t[l],[,c]=e[l],h=null==r?void 0:r[l],{errors:u,errorsMap:p,hasErrors:g}=n.getErrorProps(i,c,t);if(h&&h.value===i&&h.dirty===o&&h.touched===d&&!0===h.valid&&!g)a[l]=h;else{const e=e=>{s((r=>Object.assign(Object.assign({},r),{[l]:{value:e,dirty:r[l].dirty||r[l].value!==e,touched:!0}})))},r=(e=!0)=>{s((r=>Object.assign(Object.assign({},r),{[l]:Object.assign(Object.assign({},r[l]),{dirty:e})})))},t=(e=!0)=>{s((r=>Object.assign(Object.assign({},r),{[l]:Object.assign(Object.assign({},r[l]),{touched:e})})))},n=r=>{const n=+r;""===r?e(null):isNaN(n)?t():e(n)},c={value:i,setValue:e,resetValue:e=>{s((r=>Object.assign(Object.assign({},r),{[l]:{value:e,dirty:!1,touched:!1}})))},valid:!g,invalid:g,dirty:o,markDirty:r,touched:d,markTouched:t,touchedOrDirty:o||d,error:g?u[0]:void 0,errors:g?p:void 0},h={inputProps:()=>({value:i,onChange:r=>e(r.target.value),onBlur:()=>t()}),numberInputProps:()=>({value:null==i?"":i,onChange:e=>n(e.target.value),onBlur:()=>t()}),checkboxProps:()=>({checked:i,onChange:()=>e(!i),onBlur:()=>t()}),rnInputProps:()=>({value:i,onChangeText:r=>e(r),onBlur:()=>t()}),rnNumberInputProps:()=>({value:null==i?"":""+i,onChangeText:e=>n(e),onBlur:()=>t()})};a[l]=Object.assign(Object.assign({},c),h)}}return a};r.getInternalState=e=>{const r={};for(const t in e){const[n]=e[t];r[t]={value:n,dirty:!1,touched:!1}}return r};r.getInternalStateFromFormData=e=>{const r={};for(const t in e){const n=e[t];r[t]={value:n,dirty:!0,touched:!0}}return r};r.getGlobalFormData=e=>{const r={};for(const t in e){const n=e[t];r[t]=n.value}return r}},2955(e,r,t){r.tJ=void 0;var n=t(7405);Object.defineProperty(r,"tJ",{enumerable:!0,get:function(){return n.useFormControl}});var s=t(3540)},3540(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getErrorProps=r.extError=r.Validators=void 0,r.Validators={required:e=>{if(null==e||""===e||!1===e)return{name:"required",got:e}},requiredTrue:e=>{if(!0!==e)return{name:"requiredTrue",got:e}},minLength:e=>r=>{if(r.length<e)return{name:"minLength",got:r,length:r.length,expectedLength:e}},maxLength:e=>r=>{if(r.length>e)return{name:"maxLength",got:r,length:r.length,expectedLength:e}},numeric:e=>{if(!/^-?[\d.]+(?:e-?\d+)?$/.test(e))return{name:"numeric",got:e}},min:e=>r=>{if(null===r||r<e)return{name:"min",got:r,expected:e}},max:e=>r=>{if(null===r||r>e)return{name:"max",got:r,expected:e}},regex:e=>r=>{const t=r.match(e);if(!t||r!==t[0])return{name:"pattern",got:r}},if:(e,t)=>r.Validators.create(((r,n)=>{if(e(r,n)){let e;return t.some((t=>void 0!==(e=t(r,n)))),e}})),create:e=>e,createParametrized:e=>e};r.extError=(e,r)=>{if(!r)return"";const t=e[r.name]||e.default;if(!t)throw new Error(`No error-mapping specified for error type "${r.name}"`);return t(r)};r.getErrorProps=(e,r,t)=>{const n=(null==r?void 0:r.map((r=>r(e,t))).filter((e=>null!=e)))||[],s=n.reduce(((e,r)=>(e[r.name]=r,e)),{});return{errors:n,errorsMap:s,hasErrors:0!==n.length}}},5237(e,r,t){t.r(r),t.d(r,{assets:()=>$,contentTitle:()=>T,default:()=>F,frontMatter:()=>R,metadata:()=>n,toc:()=>G});const n=JSON.parse('{"id":"integration/widgets","title":"Widgets","description":"Show dash. graphs on your page","source":"@site/docs/integration/widgets.mdx","sourceDirName":"integration","slug":"/integration/widgets","permalink":"/docs/integration/widgets","draft":false,"unlisted":false,"editUrl":"https://github.com/MauriceNino/dashdot/edit/main/apps/docs/docs/integration/widgets.mdx","tags":[{"inline":true,"label":"Integration","permalink":"/docs/tags/integration"}],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"description":"Show dash. graphs on your page","tags":["Integration"]},"sidebar":"tutorialSidebar","previous":{"title":"Integrations","permalink":"/docs/integration/"},"next":{"title":"API Endpoints","permalink":"/docs/integration/api"}}');var s=t(1085),a=t(1184),l=t(2727),i=t(853),o=t(4041),d=t(1037),c=t(1959),h=t(5969),u=t(9617),p=t(8515),g=t(4817),x={root:"m_6d731127"};const m={gap:"md",align:"stretch",justify:"flex-start"},j=(0,c.V)(((e,{gap:r,align:t,justify:n})=>({root:{"--stack-gap":(0,d.GY)(r),"--stack-align":t,"--stack-justify":n}}))),v=(0,g.P9)(((e,r)=>{const t=(0,h.Y)("Stack",m,e),{classNames:n,className:a,style:l,styles:i,unstyled:o,vars:d,align:c,justify:g,gap:v,variant:f,attributes:b,...w}=t,y=(0,u.I)({name:"Stack",props:t,classes:x,className:a,style:l,classNames:n,styles:i,unstyled:o,attributes:b,vars:d,varsResolver:j});return(0,s.jsx)(p.a,{ref:r,...y("root"),variant:f,...w})}));v.classes=x,v.displayName="@mantine/core/Stack";var f={root:"m_4081bf90"};const b={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},w=(0,c.V)(((e,{grow:r,preventGrowOverflow:t,gap:n,align:s,justify:a,wrap:l},{childWidth:i})=>({root:{"--group-child-width":r&&t?i:void 0,"--group-gap":(0,d.GY)(n),"--group-align":s,"--group-justify":a,"--group-wrap":l}}))),y=(0,g.P9)(((e,r)=>{const t=(0,h.Y)("Group",b,e),{classNames:n,className:a,style:l,styles:i,unstyled:c,children:g,gap:x,align:m,justify:j,wrap:v,grow:y,preventGrowOverflow:S,vars:P,variant:k,__size:O,mod:C,attributes:I,...R}=t,T=function(e){return o.Children.toArray(e).filter(Boolean)}(g),$=T.length,G=(0,d.GY)(x??"md"),V={childWidth:`calc(${100/$}% - (${G} - ${G} / ${$}))`},F=(0,u.I)({name:"Group",props:t,stylesCtx:V,className:a,style:l,classes:f,classNames:n,styles:i,unstyled:c,attributes:I,vars:P,varsResolver:w});return(0,s.jsx)(p.a,{...F("root"),ref:r,variant:k,mod:[{grow:y},C],size:O,...R,children:T})}));y.classes=f,y.displayName="@mantine/core/Group";var S=t(1190),P=t(6269),k=t(419),O=t(2955);const C=(e,r)=>"boolean"==typeof r.value?!0===r.value?`&${e}=true`:"":""!==r.value&&null!=r.value?`&${e}=${r.value.toString()}`:"",I=()=>{const{colorMode:e}=(0,l.G)(),{controls:r}=(0,O.tJ)({protocol:["https"],url:["dash.mauz.dev"],widget:["cpu"],multiView:[!1],filterGraph:["both"],showPercentage:[!1],primaryColor:[""],surfaceColor:[""],theme:[""],outerRadius:[20],innerRadius:[null],gap:[null],textSize:[null],textOffset:[null]}),t="cpu"===r.widget.value||"storage"===r.widget.value,n="network"===r.widget.value||"gpu"===r.widget.value,a="network"===r.widget.value?["both","up","down"]:["both","load","memory"],o=t?C("multiView",r.multiView):"",d=C("showPercentage",r.showPercentage),c=C("theme",r.theme),h=C("color",r.primaryColor),u=C("surface",r.surfaceColor),p=C("innerRadius",r.innerRadius),g=C("gap",r.gap),x=C("textSize",r.textSize),m=C("textOffset",r.textOffset),j=n&&"both"!==r.filterGraph.value?C("filter",r.filterGraph):"",f=r.protocol.value,b=r.url.value,w=r.widget.value,I=r.outerRadius.value,R=encodeURI(`${f}://${b}?graph=${w}${o}${j}${d}${c}${h}${u}${p}${g}${x}${m}`),T=`<iframe\n  src="${R}"${null!=I?`\n  style="border-radius: ${I}px"`:""}\n  allowtransparency="true"\n  frameborder="0"\n></iframe>`;return(0,s.jsx)(i.y,{theme:{colorScheme:"dark"===e?"dark":"light"},children:(0,s.jsxs)(v,{spacing:"xl",children:[(0,s.jsxs)(v,{spacing:"xs",children:[(0,s.jsx)("h3",{style:{marginBottom:0},children:"General"}),(0,s.jsxs)(y,{children:[(0,s.jsx)(S.p.Wrapper,{label:"URL",children:(0,s.jsxs)("div",{style:{display:"flex",flexFlow:"row nowrap"},children:[(0,s.jsx)(P.l,{style:{width:"100px"},value:r.protocol.value,onChange:e=>r.protocol.setValue(e),data:[{value:"https",label:"https://"},{value:"http",label:"http://"}]}),(0,s.jsx)(S.p,{...r.url.inputProps()})]})}),(0,s.jsx)(P.l,{label:"Widget",value:r.widget.value,onChange:e=>r.widget.setValue(e),data:[{value:"cpu",label:"CPU"},{value:"storage",label:"Storage"},{value:"ram",label:"RAM"},{value:"network",label:"Network"},{value:"gpu",label:"GPU"}]}),t&&(0,s.jsx)(P.l,{label:"Multi-View",value:r.multiView.value.toString(),onChange:e=>r.multiView.setValue("true"===e),data:[{value:"true",label:"True"},{value:"false",label:"False"}]}),n&&(0,s.jsx)(P.l,{label:"Filter Graph",value:r.filterGraph.value.toString(),onChange:e=>r.filterGraph.setValue(e),data:a.map((e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)})))}),(0,s.jsx)(P.l,{label:"Show Percentage",value:r.showPercentage.value.toString(),onChange:e=>r.showPercentage.setValue("true"===e),data:[{value:"true",label:"True"},{value:"false",label:"False"}]})]})]}),(0,s.jsxs)(v,{spacing:"xs",children:[(0,s.jsx)("h3",{style:{marginBottom:0},children:"Theming"}),(0,s.jsxs)(y,{children:[(0,s.jsx)(P.l,{label:"Theme",value:r.theme.value,onChange:e=>r.theme.setValue(e),data:[{value:"",label:"Inherit"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}]}),(0,s.jsx)(S.p.Wrapper,{label:"Primary Color",children:(0,s.jsx)(S.p,{icon:"#",...r.primaryColor.inputProps()})}),(0,s.jsx)(S.p.Wrapper,{label:"Surface Color",children:(0,s.jsx)(S.p,{icon:"#",...r.surfaceColor.inputProps()})}),(0,s.jsx)(S.p.Wrapper,{label:"Outer Radius",children:(0,s.jsx)(S.p,{rightSection:"px",type:"number",...r.outerRadius.numberInputProps()})}),(0,s.jsx)(S.p.Wrapper,{label:"Inner Radius",children:(0,s.jsx)(S.p,{rightSection:"px",type:"number",placeholder:"10",...r.innerRadius.numberInputProps()})}),(0,s.jsx)(S.p.Wrapper,{label:"Gap",children:(0,s.jsx)(S.p,{rightSection:"px",type:"number",placeholder:"12",...r.gap.numberInputProps()})}),(0,s.jsx)(S.p.Wrapper,{label:"Text Size",children:(0,s.jsx)(S.p,{rightSection:"px",type:"number",placeholder:"16",...r.textSize.numberInputProps()})}),(0,s.jsx)(S.p.Wrapper,{label:"Text Offset",children:(0,s.jsx)(S.p,{rightSection:"px",type:"number",placeholder:"24",...r.textOffset.numberInputProps()})})]})]}),(0,s.jsxs)(v,{spacing:"xs",children:[(0,s.jsx)("h3",{style:{marginBottom:0},children:"Result"}),(0,s.jsx)(k.A,{className:"language-html",children:T}),(0,s.jsx)("iframe",{title:"Preview",src:R,style:{borderRadius:`${I??0}px`,width:"100%",maxWidth:"300px"}})]})]})})},R={sidebar_position:1,description:"Show dash. graphs on your page",tags:["Integration"]},T="Widgets",$={},G=[{value:"Manual",id:"manual",level:2},{value:"Parameters",id:"parameters",level:2},{value:"<code>graph</code>",id:"graph",level:3},{value:"<code>multiView</code>",id:"multiview",level:3},{value:"<code>filter</code>",id:"filter",level:3},{value:"<code>showPercentage</code>",id:"showpercentage",level:3},{value:"<code>theme</code>",id:"theme",level:3},{value:"<code>color</code>",id:"color",level:3},{value:"<code>surface</code>",id:"surface",level:3},{value:"<code>innerRadius</code>",id:"innerradius",level:3},{value:"<code>gap</code>",id:"gap",level:3},{value:"<code>textSize</code>",id:"textsize",level:3},{value:"<code>textOffset</code>",id:"textoffset",level:3},{value:"Widget Creator",id:"widget-creator",level:2}];function V(e){const r={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"widgets",children:"Widgets"})}),"\n",(0,s.jsx)(r.h2,{id:"manual",children:"Manual"}),"\n",(0,s.jsx)(r.p,{children:"You can implement your running dash. instance on your websites and personal dashboards, via iframes that\ncan be configured using query parameters."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<iframe\n  src="https://<YOUR_SERVER_URL>/?graph=cpu&multiView=true"\n  style="border-radius: 20px"\n  allowtransparency="true"\n  frameborder="0"\n></iframe>\n'})}),"\n",(0,s.jsx)(r.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(r.h3,{id:"graph",children:(0,s.jsx)(r.code,{children:"graph"})}),"\n",(0,s.jsx)(r.p,{children:"Select the specific graph that you want to show."}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})," (",(0,s.jsx)(r.code,{children:"cpu"}),", ",(0,s.jsx)(r.code,{children:"storage"}),", ",(0,s.jsx)(r.code,{children:"ram"}),", ",(0,s.jsx)(r.code,{children:"network"}),", ",(0,s.jsx)(r.code,{children:"gpu"}),")"]}),"\n",(0,s.jsxs)(r.li,{children:["required: ",(0,s.jsx)(r.code,{children:"true"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"multiview",children:(0,s.jsx)(r.code,{children:"multiView"})}),"\n",(0,s.jsxs)(r.p,{children:["For the ",(0,s.jsx)(r.code,{children:"cpu"})," and ",(0,s.jsx)(r.code,{children:"storage"})," widgets, there are multi-device views.\nThese can be shown, by passing this parameter."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"filter",children:(0,s.jsx)(r.code,{children:"filter"})}),"\n",(0,s.jsx)(r.p,{children:"For views with multiple graphs, filter the view to just a single graph."}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type (when ",(0,s.jsx)(r.code,{children:"graph=network"}),"): ",(0,s.jsx)(r.code,{children:"string"})," (",(0,s.jsx)(r.code,{children:"up"}),", ",(0,s.jsx)(r.code,{children:"down"}),")"]}),"\n",(0,s.jsxs)(r.li,{children:["type (when ",(0,s.jsx)(r.code,{children:"graph=gpu"}),"): ",(0,s.jsx)(r.code,{children:"string"})," (",(0,s.jsx)(r.code,{children:"load"}),", ",(0,s.jsx)(r.code,{children:"memory"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"showpercentage",children:(0,s.jsx)(r.code,{children:"showPercentage"})}),"\n",(0,s.jsx)(r.p,{children:"Show a label with the current percentage of the graph."}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"theme",children:(0,s.jsx)(r.code,{children:"theme"})}),"\n",(0,s.jsx)(r.p,{children:"To override the theme of the graph. If this is not passed, the default theme of the users browser is used."}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})," (",(0,s.jsx)(r.code,{children:"dark"}),", ",(0,s.jsx)(r.code,{children:"light"}),")"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"color",children:(0,s.jsx)(r.code,{children:"color"})}),"\n",(0,s.jsxs)(r.p,{children:["To override the color of the graph, passed as a hex string. If this is not passed, the default color of the widget is used.\nThe color needs to be passed ",(0,s.jsx)(r.em,{children:"without"})," the trailing ",(0,s.jsx)(r.code,{children:"#"}),"."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"surface",children:(0,s.jsx)(r.code,{children:"surface"})}),"\n",(0,s.jsxs)(r.p,{children:["To override the background color, passed as a hex string. If this is not passed, the default color of the theme is used.\nThe color needs to be passed ",(0,s.jsx)(r.em,{children:"without"})," the trailing ",(0,s.jsx)(r.code,{children:"#"}),"."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"innerradius",children:(0,s.jsx)(r.code,{children:"innerRadius"})}),"\n",(0,s.jsxs)(r.p,{children:["This changes the ",(0,s.jsx)(r.code,{children:"border-radius"})," on the graphs. This is mainly needed to add ",(0,s.jsx)(r.code,{children:"border-radius"})," on views with multiple graphs,\nlike the network graph. If you want to add a bigger ",(0,s.jsx)(r.code,{children:"border-radius"})," to the whole container, just add it to the iframe's styles."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"gap",children:(0,s.jsx)(r.code,{children:"gap"})}),"\n",(0,s.jsxs)(r.p,{children:["This changes the ",(0,s.jsx)(r.code,{children:"gap"})," between the graphs. This is mainly needed on views with multiple graphs, like the network graph."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"textsize",children:(0,s.jsx)(r.code,{children:"textSize"})}),"\n",(0,s.jsxs)(r.p,{children:["This changes the ",(0,s.jsx)(r.code,{children:"font-size"})," of the texts (e.g. percentage) in your graph."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"textoffset",children:(0,s.jsx)(r.code,{children:"textOffset"})}),"\n",(0,s.jsxs)(r.p,{children:["This changes the ",(0,s.jsx)(r.code,{children:"margin"})," of the texts (e.g. percentage) in your graph."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["type: ",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"widget-creator",children:"Widget Creator"}),"\n","\n",(0,s.jsx)(I,{})]})}function F(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(V,{...e})}):V(e)}},7405(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.useFormControl=void 0;const n=t(4041),s=t(1281);r.useFormControl=(e,r)=>{const{state:t,setState:s,initialState:o}=a(e),d=l(e,t,s,r),c=i(o,s);return n.useMemo((()=>Object.assign(Object.assign({},d),c)),[d,c])};const a=e=>{const r=n.useRef(n.useMemo((()=>s.getInternalState(e)),[e])),[t,a]=n.useState(r.current);return{state:t,setState:a,initialState:r.current}},l=(e,r,t,a)=>{const l=n.useRef(),i=n.useMemo((()=>s.getDetailedFormData(e,l.current,r,t)),[t,r,...null!=a?a:[]]);n.useEffect((()=>{l.current=i}),[i]);const{valid:o,dirty:d,touched:c}=n.useMemo((()=>s.getGlobalState(i)),[i]),h=n.useMemo((()=>s.getGlobalFormData(r)),[r]);return{controls:i,valid:o,invalid:!o,dirty:d,touched:c,value:h}},i=(e,r)=>({setValue:n.useCallback((e=>{r((()=>s.getInternalStateFromFormData(e)))}),[r]),reset:n.useCallback((()=>{r((()=>Object.assign({},e)))}),[e,r])})}}]);